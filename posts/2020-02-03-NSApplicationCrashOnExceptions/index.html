<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Maximilian Götzfried"/><link rel="canonical" href="https://mxgzf.github.io/posts/2020-02-03-NSApplicationCrashOnExceptions"/><meta name="twitter:url" content="https://mxgzf.github.io/posts/2020-02-03-NSApplicationCrashOnExceptions"/><meta name="og:url" content="https://mxgzf.github.io/posts/2020-02-03-NSApplicationCrashOnExceptions"/><title>NSApplicationCrashOnExceptions | Maximilian Götzfried</title><meta name="twitter:title" content="NSApplicationCrashOnExceptions | Maximilian Götzfried"/><meta name="og:title" content="NSApplicationCrashOnExceptions | Maximilian Götzfried"/><meta name="description" content="A post in the Apple dev forums reminded fellow developers about AppKit's default exception handling"/><meta name="twitter:description" content="A post in the Apple dev forums reminded fellow developers about AppKit's default exception handling"/><meta name="og:description" content="A post in the Apple dev forums reminded fellow developers about AppKit's default exception handling"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Maximilian Götzfried"/></head><body><article><header><h1>NSApplicationCrashOnExceptions</h1><p>by <a href="/">Maximilian Götzfried</a> on <time datetime="2020-03-02" title="February 3, 2020">February 3, 2020</time datetime="2020-03-02" title="February 3, 2020"></p></header><p>A post in the Apple dev forums reminded fellow developers about AppKit's default exception handling:</p><blockquote><p>“AppKit has a default exception handler that catches all language exceptions raised by code run from its run loop. It logs the exception and then swallows it, allowing the app to continue running. Who thought that was a good idea!?!” – <a href="https://forums.developer.apple.com/thread/128559">https://forums.developer.apple.com/thread/128559</a></p></blockquote><p>The best documentation about the <code>NSApplicationCrashOnExceptions</code> key has Microsoft:</p><blockquote><p>AppKit catches exceptions thrown on the main thread, preventing the application from crashing on macOS, so the SDK cannot catch these crashes. To mimic iOS behavior, set NSApplicationCrashOnExceptions flag before SDK initialization, this will allow the application to crash on uncaught exceptions and the SDK can report them. <code>UserDefaults.standard.register(defaults: ["NSApplicationCrashOnExceptions": true])</code> – <a href="https://docs.microsoft.com/en-us/appcenter/sdk/crashes/macos">https://docs.microsoft.com/en-us/appcenter/sdk/crashes/macos</a></p></blockquote><p>More about this topic:</p><ul><li><a href="https://openradar.appspot.com/41809382">https://openradar.appspot.com/41809382</a></li><li><a href="https://github.com/microsoft/appcenter-sdk-apple/issues/1725">https://github.com/microsoft/appcenter-sdk-apple/issues/1725</a></li><li><a href="https://docs.fabric.io/apple/crashlytics/os-x.html">https://docs.fabric.io/apple/crashlytics/os-x.html</a></li><li><a href="https://siddarthkalra.github.io/2019/04/19/uncaught-exceptions-macos.html">https://siddarthkalra.github.io/2019/04/19/uncaught-exceptions-macos.html</a></li><li><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Exceptions/Exceptions.html">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Exceptions/Exceptions.html</a></li></ul><p>◼</p></article></body></html>